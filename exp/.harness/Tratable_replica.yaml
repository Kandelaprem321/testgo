pipeline:
  name: Tratable replica
  identifier: Tratable_replica
  projectIdentifier: RajathaTest2
  orgIdentifier: default
  tags: {}
  stages:
    - stage:
        name: Test Image
        identifier: Test_Image
        type: CI
        spec:
          cloneCodebase: false
          infrastructure:
            type: KubernetesDirect
            spec:
              connectorRef: rajathak8
              namespace: sdfdsfgds
              automountServiceAccountToken: true
              nodeSelector: {}
              os: Linux
          execution:
            steps:
              - step:
                  type: Run
                  name: step2
                  identifier: List_program_versions
                  spec:
                    connectorRef: account.Tractable_Docker_Hub
                    image: <+pipeline.stages.Build.spec.execution.steps.Generate_Docker_Tag.output.outputVariables.DOCKER_IMAGE_WITH_TAG>
                    shell: Bash
                    command: |
                      whoami
                      printenv

                      ls -al /root/.asdf

                      git --version
                      aws --version
                      asdf --version
                      python --version
                    imagePullPolicy: Always
                    runAsUser: "0"
        failureStrategies:
          - onFailure:
              errors:
                - Timeout
              action:
                type: Retry
                spec:
                  retryCount: 1
                  onRetryFailure:
                    action:
                      type: MarkAsSuccess
  allowStageExecutions: false
  notificationRules: []
